{
  "address": "0xA1e32bAAE8544886C060A61f05C3b06b6140EFfa",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "team1",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "team2",
          "type": "address"
        }
      ],
      "name": "GameAccepted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "player1",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "player2",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "bet",
          "type": "uint256"
        }
      ],
      "name": "GameCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        }
      ],
      "name": "GameDeleted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "winner",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "enum TicTacToe.GameState",
          "name": "state",
          "type": "uint8"
        }
      ],
      "name": "GameFinished",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "gameId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "player",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint8",
          "name": "position",
          "type": "uint8"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "lastTimePlayed",
          "type": "uint256"
        }
      ],
      "name": "MoveMade",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "acceptGame",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_player2",
          "type": "address"
        }
      ],
      "name": "createGame",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "deleteGame",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "gameIdCounter",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "games",
      "outputs": [
        {
          "internalType": "address",
          "name": "player1",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "player2",
          "type": "address"
        },
        {
          "internalType": "enum TicTacToe.GameState",
          "name": "state",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "bet",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "player1Withdrawn",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "player2Withdrawn",
          "type": "bool"
        },
        {
          "internalType": "uint8",
          "name": "moves",
          "type": "uint8"
        },
        {
          "internalType": "uint256",
          "name": "lastTimePlayed",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "getBoard",
      "outputs": [
        {
          "internalType": "uint8[9]",
          "name": "",
          "type": "uint8[9]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "getCurrentPlayer",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "getGameState",
      "outputs": [
        {
          "internalType": "enum TicTacToe.GameState",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "getLastTimePlayed",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "getNumberOfMoves",
      "outputs": [
        {
          "internalType": "uint8",
          "name": "",
          "type": "uint8"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "hasPlayer1WithdrawnPrize",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "hasPlayer2WithdrawnPrize",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        },
        {
          "internalType": "uint8",
          "name": "position",
          "type": "uint8"
        }
      ],
      "name": "makeMove",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "timeOutValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "winByTimeout",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_gameId",
          "type": "uint256"
        }
      ],
      "name": "withdrawPrize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0xc1e32ae800418bc250e022376b40a77df434399e07eff73c76fc5533ca16b751",
  "receipt": {
    "to": null,
    "from": "0x6Ec4b288fB1076b169C9405b39fA47420D761518",
    "contractAddress": "0xA1e32bAAE8544886C060A61f05C3b06b6140EFfa",
    "transactionIndex": 48,
    "gasUsed": "1761810",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0x7dcff07b2d2de47d3eba5542c4a7528725101cd03b7ea9958149882dbb1a112d",
    "transactionHash": "0xc1e32ae800418bc250e022376b40a77df434399e07eff73c76fc5533ca16b751",
    "logs": [],
    "blockNumber": 5370885,
    "cumulativeGasUsed": "6055285",
    "status": 1,
    "byzantium": true
  },
  "args": [],
  "numDeployments": 2,
  "solcInputHash": "a4c2ceed6451a0d2d68bb67897af9109",
  "metadata": "{\"compiler\":{\"version\":\"0.8.17+commit.8df45f5f\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"team1\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"team2\",\"type\":\"address\"}],\"name\":\"GameAccepted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"player1\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"player2\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"bet\",\"type\":\"uint256\"}],\"name\":\"GameCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"}],\"name\":\"GameDeleted\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"winner\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"enum TicTacToe.GameState\",\"name\":\"state\",\"type\":\"uint8\"}],\"name\":\"GameFinished\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"gameId\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"player\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint8\",\"name\":\"position\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"lastTimePlayed\",\"type\":\"uint256\"}],\"name\":\"MoveMade\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"acceptGame\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_player2\",\"type\":\"address\"}],\"name\":\"createGame\",\"outputs\":[],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"deleteGame\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"gameIdCounter\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"name\":\"games\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"player1\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"player2\",\"type\":\"address\"},{\"internalType\":\"enum TicTacToe.GameState\",\"name\":\"state\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"bet\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"player1Withdrawn\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"player2Withdrawn\",\"type\":\"bool\"},{\"internalType\":\"uint8\",\"name\":\"moves\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"lastTimePlayed\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"getBoard\",\"outputs\":[{\"internalType\":\"uint8[9]\",\"name\":\"\",\"type\":\"uint8[9]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"getCurrentPlayer\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"getGameState\",\"outputs\":[{\"internalType\":\"enum TicTacToe.GameState\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"getLastTimePlayed\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"getNumberOfMoves\",\"outputs\":[{\"internalType\":\"uint8\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"hasPlayer1WithdrawnPrize\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"hasPlayer2WithdrawnPrize\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"position\",\"type\":\"uint8\"}],\"name\":\"makeMove\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"timeOutValue\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"winByTimeout\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_gameId\",\"type\":\"uint256\"}],\"name\":\"withdrawPrize\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Lulox\",\"details\":\"Currently for using with one transaction per move,      in a future may be replaced with signatures  or other gas efficient mechanism\",\"kind\":\"dev\",\"methods\":{},\"title\":\"TicTacToe\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"notice\":\"A betting TicTacToe contract.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/TicTacToe.sol\":\"TicTacToe\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/TicTacToe.sol\":{\"content\":\"// SPDX-License-Identifier: MIT\\npragma solidity ^0.8.17;\\n\\n/**\\n * @title TicTacToe\\n * @author Lulox\\n * @notice A betting TicTacToe contract.\\n * @dev Currently for using with one transaction per move,\\n *      in a future may be replaced with signatures \\n        or other gas efficient mechanism\\n */\\n\\ncontract TicTacToe {\\n\\tuint256 public gameIdCounter = 0;\\n\\tuint256 public immutable timeOutValue = 20 minutes;\\n\\n\\tenum GameState {\\n\\t\\tPENDING,\\n\\t\\tPLAYING,\\n\\t\\tPLAYER1WON,\\n\\t\\tPLAYER2WON,\\n\\t\\tTIE,\\n\\t\\tDELETED\\n\\t}\\n\\n\\tstruct Game {\\n\\t\\taddress player1;\\n\\t\\taddress player2;\\n\\t\\tGameState state;\\n\\t\\tuint256 bet;\\n\\t\\tbool player1Withdrawn;\\n\\t\\tbool player2Withdrawn;\\n\\t\\tuint8[9] board; // 0 (no player): empty, 1 (player 1): X, 2 (player 2): O\\n\\t\\tuint8 moves; // Counter or the number of moves made\\n\\t\\tuint256 lastTimePlayed;\\n\\t}\\n\\n\\tmapping(uint256 => Game) public games;\\n\\n\\tevent GameCreated(\\n\\t\\tuint256 indexed gameId,\\n\\t\\taddress indexed player1,\\n\\t\\taddress indexed player2,\\n\\t\\tuint256 bet\\n\\t);\\n\\tevent GameAccepted(\\n\\t\\tuint256 indexed gameId,\\n\\t\\taddress indexed team1,\\n\\t\\taddress indexed team2\\n\\t);\\n\\tevent GameDeleted(uint256 indexed gameId);\\n\\tevent MoveMade(\\n\\t\\tuint256 indexed gameId,\\n\\t\\taddress indexed player,\\n\\t\\tuint8 position,\\n\\t\\tuint256 lastTimePlayed\\n\\t);\\n\\tevent GameFinished(\\n\\t\\tuint256 indexed gameId,\\n\\t\\taddress indexed winner,\\n\\t\\tGameState state\\n\\t);\\n\\n\\t/* MODIFIERS */\\n\\n\\tmodifier onlyValidMove(uint256 _gameId, uint8 position) {\\n\\t\\t// Store the game in memory to use less storage reads\\n\\t\\tGame memory game = games[_gameId];\\n\\t\\tuint8 currentPlayer = getCurrentPlayer(_gameId);\\n\\n\\t\\t// Player should be either player1 or player2, no doubt on that\\n\\t\\trequire(\\n\\t\\t\\tmsg.sender == game.player1 || msg.sender == game.player2,\\n\\t\\t\\t\\\"Not a player\\\"\\n\\t\\t);\\n\\t\\t// Verify if it's your turn or not\\n\\t\\trequire(\\n\\t\\t\\t(msg.sender == game.player1 && currentPlayer == 1) ||\\n\\t\\t\\t\\t(msg.sender == game.player2 && currentPlayer == 2),\\n\\t\\t\\t\\\"Not your turn\\\"\\n\\t\\t);\\n\\t\\t// Position is within range of board (0 to 8, 9 in total)\\n\\t\\trequire(position < 9, \\\"Position not valid\\\");\\n\\t\\t// If the state of the game isn't PLAYING, then you shouldn't be able to play\\n\\t\\trequire(\\n\\t\\t\\tgame.state == GameState.PLAYING,\\n\\t\\t\\t\\\"Game hasn't started or already ended!\\\"\\n\\t\\t);\\n\\t\\t// Require position to be empty, or you can't write there otherwise\\n\\t\\trequire(game.board[position] == 0, \\\"Position not empty\\\");\\n\\t\\t// Ensure only players can interact with this game\\n\\t\\t_;\\n\\t}\\n\\n\\t/* EXTERNAL AND PUBLIC FUNCTIONS */\\n\\n\\tfunction createGame(address _player2) external payable {\\n\\t\\trequire(\\n\\t\\t\\t_player2 != msg.sender,\\n\\t\\t\\t\\\"You can't challenge your same address!\\\"\\n\\t\\t);\\n\\t\\trequire(\\n\\t\\t\\t_player2 != address(0),\\n\\t\\t\\t\\\"You can't challenge the zero address!\\\"\\n\\t\\t);\\n\\n\\t\\t// Increase gameIdCounter by one, as a new game is created\\n\\t\\tgameIdCounter++;\\n\\t\\t// Fill the information as a blank game with the data for the Game struct\\n\\t\\tgames[gameIdCounter] = Game({\\n\\t\\t\\tplayer1: msg.sender,\\n\\t\\t\\tplayer2: _player2,\\n\\t\\t\\tstate: GameState.PENDING,\\n\\t\\t\\tbet: msg.value,\\n\\t\\t\\tplayer1Withdrawn: false,\\n\\t\\t\\tplayer2Withdrawn: false,\\n\\t\\t\\tboard: [0, 0, 0, 0, 0, 0, 0, 0, 0],\\n\\t\\t\\tmoves: 0,\\n\\t\\t\\tlastTimePlayed: 0\\n\\t\\t});\\n\\n\\t\\t// This event can be used by the frontend to know that something happened and react to it\\n\\t\\temit GameCreated(gameIdCounter, msg.sender, _player2, msg.value);\\n\\t}\\n\\n\\tfunction acceptGame(uint256 _gameId) external payable {\\n\\t\\tGame memory game = games[_gameId];\\n\\t\\trequire(game.player2 == msg.sender, \\\"You must be player 2 to accept\\\");\\n\\t\\trequire(\\n\\t\\t\\tgame.state == GameState.PENDING,\\n\\t\\t\\t\\\"Game must be PENDING to be accepted\\\"\\n\\t\\t);\\n\\t\\t// If the game hasn't been accepted, attempt to accept it (may require payment)\\n\\t\\trequire(\\n\\t\\t\\tgame.bet == msg.value,\\n\\t\\t\\t\\\"You haven't sent the required ETH to accept\\\"\\n\\t\\t);\\n\\t\\t// Set the initial time count to check the timeout\\n\\t\\tgames[_gameId].lastTimePlayed = block.timestamp;\\n\\n\\t\\t// Set the game state to PLAYING and emit an event\\n\\t\\tgames[_gameId].state = GameState.PLAYING;\\n\\t\\temit GameAccepted(_gameId, game.player1, game.player2);\\n\\t}\\n\\n\\tfunction makeMove(\\n\\t\\tuint256 _gameId,\\n\\t\\tuint8 position\\n\\t) external onlyValidMove(_gameId, position) {\\n\\t\\t// Determine the current Player symbol\\n\\t\\t// 1 is player1, 2 is player2\\n\\t\\tuint8 playerSymbol = games[_gameId].moves % 2 == 0 ? 1 : 2;\\n\\t\\t// Add the corresponding mark in the position of the game board\\n\\t\\tgames[_gameId].board[position] = playerSymbol;\\n\\t\\t// And add 1 to the number of moves made in the game\\n\\t\\tgames[_gameId].moves++;\\n\\t\\tgames[_gameId].lastTimePlayed = block.timestamp;\\n\\n\\t\\temit MoveMade(_gameId, msg.sender, position, block.timestamp);\\n\\t\\t// Check if after adding that symbol, a win is achieved, and react to it if that's the case\\n\\t\\tcheckWin(_gameId, position, msg.sender);\\n\\t}\\n\\n\\t// For when game wasn't accepted and player wants to recover betted ammount\\n\\tfunction deleteGame(uint256 _gameId) external {\\n\\t\\tGame memory game = games[_gameId];\\n\\t\\trequire(\\n\\t\\t\\tmsg.sender == game.player1,\\n\\t\\t\\t\\\"You must be player 1 to delete the request\\\"\\n\\t\\t);\\n\\t\\trequire(\\n\\t\\t\\tgame.state == GameState.PENDING,\\n\\t\\t\\t\\\"Game must be PENDING to be deleted\\\"\\n\\t\\t);\\n\\n\\t\\tgames[_gameId].state = GameState.DELETED;\\n\\n\\t\\tpayable(msg.sender).transfer(game.bet);\\n\\t\\temit GameDeleted(_gameId);\\n\\t}\\n\\n\\t// To incentivize players to keep playing or not quit half a game to not allow the other part to withdraw prize\\n\\tfunction winByTimeout(uint256 _gameId) external {\\n\\t\\trequire(\\n\\t\\t\\tblock.timestamp - games[_gameId].lastTimePlayed > timeOutValue,\\n\\t\\t\\t\\\"Timeout value hasnt been reached yet!\\\"\\n\\t\\t);\\n\\t\\tgames[_gameId].moves % 2 == 0\\n\\t\\t\\t? finishGame(_gameId, games[_gameId].player2)\\n\\t\\t\\t: finishGame(_gameId, games[_gameId].player1);\\n\\t}\\n\\n\\t// Function to withdraw the prize based on game state\\n\\tfunction withdrawPrize(uint256 _gameId) external {\\n\\t\\tGame storage game = games[_gameId];\\n\\n\\t\\t// Ensure the game is in the correct state for prize withdrawal\\n\\t\\trequire(\\n\\t\\t\\tgame.state == GameState.PLAYER1WON ||\\n\\t\\t\\t\\tgame.state == GameState.PLAYER2WON ||\\n\\t\\t\\t\\tgame.state == GameState.TIE,\\n\\t\\t\\t\\\"Invalid game state for prize withdrawal\\\"\\n\\t\\t);\\n\\n\\t\\t// WITHDRAW RULES FOR PLAYER 1 VICTORY\\n\\t\\tif (game.state == GameState.PLAYER1WON && msg.sender == game.player1) {\\n\\t\\t\\trequire(\\n\\t\\t\\t\\t!game.player1Withdrawn,\\n\\t\\t\\t\\t\\\"You have already withdrawn the prize!\\\"\\n\\t\\t\\t);\\n\\t\\t\\tgame.player1Withdrawn = true;\\n\\t\\t}\\n\\n\\t\\t// WITHDRAW RULES FOR PLAYER 2 VICTORY\\n\\t\\tif (game.state == GameState.PLAYER2WON && msg.sender == game.player2) {\\n\\t\\t\\trequire(\\n\\t\\t\\t\\t!game.player2Withdrawn,\\n\\t\\t\\t\\t\\\"You have already withdrawn the prize!\\\"\\n\\t\\t\\t);\\n\\t\\t\\tgame.player2Withdrawn = true;\\n\\t\\t}\\n\\n\\t\\t// WITHDRAW RULES FOR TIE RESULT\\n\\t\\tif (game.state == GameState.TIE) {\\n\\t\\t\\tif (msg.sender == game.player1) {\\n\\t\\t\\t\\trequire(\\n\\t\\t\\t\\t\\t!game.player1Withdrawn,\\n\\t\\t\\t\\t\\t\\\"You have already withdrawn the prize!\\\"\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tgame.player1Withdrawn = true;\\n\\t\\t\\t} else if (msg.sender == game.player2) {\\n\\t\\t\\t\\trequire(\\n\\t\\t\\t\\t\\t!game.player2Withdrawn,\\n\\t\\t\\t\\t\\t\\\"You have already withdrawn the prize!\\\"\\n\\t\\t\\t\\t);\\n\\t\\t\\t\\tgame.player2Withdrawn = true;\\n\\t\\t\\t}\\n\\t\\t}\\n\\n\\t\\t// Calculate and transfer the prize based on the game state\\n\\t\\tuint256 prize = calculatePrize(_gameId);\\n\\t\\trequire(prize > 0, \\\"Invalid prize amount\\\");\\n\\n\\t\\t// Transfer the prize to the player\\n\\t\\tpayable(msg.sender).transfer(prize);\\n\\t}\\n\\n\\t/* INTERNAL FUNCTIONS */\\n\\n\\tfunction checkWin(\\n\\t\\tuint256 _gameId,\\n\\t\\tuint8 _position,\\n\\t\\taddress _player\\n\\t) internal {\\n\\t\\t// Store the game in memory to use less storage reads\\n\\t\\tGame memory game = games[_gameId];\\n\\t\\t// Check if board is complete and a tie should be declared\\n\\t\\t// If all moves were used and no victory was gotten\\n\\t\\tif (game.moves == 9) {\\n\\t\\t\\t// Set the game as a Tie and finish it so prizes can be withdrawn\\n\\t\\t\\tfinishGame(_gameId, address(0));\\n\\t\\t}\\n\\n\\t\\t// Get current player symbol\\n\\t\\tuint8 playerSymbol = games[_gameId].moves % 2 == 0 ? 2 : 1; // Order is reverted because a moves++ is triggered before calling this internal function.\\n\\n\\t\\tuint8 row = _position / 3;\\n\\t\\tuint8 col = _position % 3;\\n\\n\\t\\t// Check row\\n\\t\\tif (\\n\\t\\t\\tgame.board[row * 3] == playerSymbol &&\\n\\t\\t\\tgame.board[row * 3 + 1] == playerSymbol &&\\n\\t\\t\\tgame.board[row * 3 + 2] == playerSymbol\\n\\t\\t) {\\n\\t\\t\\tfinishGame(_gameId, _player);\\n\\t\\t}\\n\\n\\t\\t// Check column\\n\\t\\tif (\\n\\t\\t\\tgame.board[col] == playerSymbol &&\\n\\t\\t\\tgame.board[col + 3] == playerSymbol &&\\n\\t\\t\\tgame.board[col + 6] == playerSymbol\\n\\t\\t) {\\n\\t\\t\\tfinishGame(_gameId, _player);\\n\\t\\t}\\n\\n\\t\\t// Check diagonals\\n\\t\\tif (\\n\\t\\t\\t(row == col || row + col == 2) &&\\n\\t\\t\\t((game.board[0] == playerSymbol &&\\n\\t\\t\\t\\tgame.board[4] == playerSymbol &&\\n\\t\\t\\t\\tgame.board[8] == playerSymbol) ||\\n\\t\\t\\t\\t(game.board[2] == playerSymbol &&\\n\\t\\t\\t\\t\\tgame.board[4] == playerSymbol &&\\n\\t\\t\\t\\t\\tgame.board[6] == playerSymbol))\\n\\t\\t) {\\n\\t\\t\\tfinishGame(_gameId, _player);\\n\\t\\t}\\n\\t}\\n\\n\\tfunction finishGame(uint256 gameId, address winner) internal {\\n\\t\\tGame storage game = games[gameId];\\n\\n\\t\\t// Ensure the game is in the PLAYING state before finishing\\n\\t\\trequire(\\n\\t\\t\\tgame.state == GameState.PLAYING,\\n\\t\\t\\t\\\"Game is not in PLAYING state\\\"\\n\\t\\t);\\n\\n\\t\\t// Determine the result based on the winner and update game state accordingly\\n\\t\\tif (winner == address(0)) {\\n\\t\\t\\t// It's a tie\\n\\t\\t\\tgame.state = GameState.TIE;\\n\\t\\t} else if (winner == game.player1) {\\n\\t\\t\\t// Player 1 won\\n\\t\\t\\tgame.state = GameState.PLAYER1WON;\\n\\t\\t} else if (winner == game.player2) {\\n\\t\\t\\t// Player 2 won\\n\\t\\t\\tgame.state = GameState.PLAYER2WON;\\n\\t\\t} else {\\n\\t\\t\\t// Winner address is not valid\\n\\t\\t\\trevert(\\\"Invalid winner address\\\");\\n\\t\\t}\\n\\n\\t\\t// Emit GameFinished event\\n\\t\\temit GameFinished(gameId, winner, game.state);\\n\\t}\\n\\n\\t// Function to calculate the prize based on the game state\\n\\tfunction calculatePrize(uint256 _gameId) internal view returns (uint256) {\\n\\t\\tGame storage game = games[_gameId];\\n\\t\\tuint256 totalBet = game.bet * 2; // Total amount bet in the game\\n\\n\\t\\tif (game.state == GameState.PLAYER1WON) {\\n\\t\\t\\treturn totalBet;\\n\\t\\t} else if (game.state == GameState.PLAYER2WON) {\\n\\t\\t\\treturn totalBet;\\n\\t\\t} else if (game.state == GameState.TIE) {\\n\\t\\t\\t// In the case of a tie, split the total bet equally between players\\n\\t\\t\\treturn game.bet;\\n\\t\\t} else {\\n\\t\\t\\t// Invalid game state\\n\\t\\t\\trevert(\\\"Invalid game state\\\");\\n\\t\\t}\\n\\t}\\n\\n\\t/* VIEW AND PURE FUNCTIONS */\\n\\n\\tfunction getCurrentPlayer(uint256 _gameId) public view returns (uint8) {\\n\\t\\treturn games[_gameId].moves % 2 == 0 ? 2 : 1;\\n\\t}\\n\\n\\tfunction getNumberOfMoves(uint256 _gameId) public view returns (uint8) {\\n\\t\\treturn games[_gameId].moves;\\n\\t}\\n\\n\\tfunction getBoard(uint256 _gameId) external view returns (uint8[9] memory) {\\n\\t\\treturn games[_gameId].board;\\n\\t}\\n\\n\\tfunction getGameState(uint256 _gameId) public view returns (GameState) {\\n\\t\\treturn games[_gameId].state;\\n\\t}\\n\\n\\tfunction getLastTimePlayed(uint256 _gameId) public view returns (uint256) {\\n\\t\\treturn games[_gameId].lastTimePlayed;\\n\\t}\\n\\n\\tfunction hasPlayer1WithdrawnPrize(\\n\\t\\tuint256 _gameId\\n\\t) public view returns (bool) {\\n\\t\\treturn games[_gameId].player1Withdrawn;\\n\\t}\\n\\n\\tfunction hasPlayer2WithdrawnPrize(\\n\\t\\tuint256 _gameId\\n\\t) public view returns (bool) {\\n\\t\\treturn games[_gameId].player2Withdrawn;\\n\\t}\\n}\\n\",\"keccak256\":\"0xd9487d731ac8f44059c84e9f7dea6d9aa96f7b5c3b383638dab56674b9b27180\",\"license\":\"MIT\"}},\"version\":1}",
  "bytecode": "0x60a0604052600080556104b060805234801561001a57600080fd5b50608051611eda61003d600039600081816103a1015261041f0152611eda6000f3fe6080604052600436106100f35760003560e01c8063605bd5ff1161008a578063c20eec7b11610059578063c20eec7b14610337578063cb310db614610357578063e03c43c41461038f578063ffde0c74146103c357600080fd5b8063605bd5ff1461028e5780637fd6f7c4146102a1578063986ac879146102c1578063b8b357d91461030457600080fd5b8063248a55a1116100c6578063248a55a1146101fc578063266386311461021c57806345e09e541461024e578063474d0b5a1461027b57600080fd5b80630628b6ba146100f8578063117a5b901461013b5780631bb412d6146101c45780631d11e0df146101da575b600080fd5b34801561010457600080fd5b50610128610113366004611bee565b60009081526001602052604090206006015490565b6040519081526020015b60405180910390f35b34801561014757600080fd5b506101b0610156366004611bee565b60016020819052600091825260409091208054918101546002820154600383015460058401546006909401546001600160a01b039586169584169460ff600160a01b90950485169483811693610100900481169291169088565b604051610132989796959493929190611c3f565b3480156101d057600080fd5b5061012860005481565b3480156101e657600080fd5b506101fa6101f5366004611bee565b61040b565b005b34801561020857600080fd5b506101fa610217366004611bee565b61051f565b34801561022857600080fd5b5061023c610237366004611bee565b610787565b60405160ff9091168152602001610132565b34801561025a57600080fd5b5061026e610269366004611bee565b6107c0565b6040516101329190611c92565b6101fa610289366004611cc7565b610829565b6101fa61029c366004611bee565b610acc565b3480156102ad57600080fd5b506101fa6102bc366004611cf7565b610d85565b3480156102cd57600080fd5b506102f46102dc366004611bee565b60009081526001602052604090206003015460ff1690565b6040519015158152602001610132565b34801561031057600080fd5b5061023c61031f366004611bee565b60009081526001602052604090206005015460ff1690565b34801561034357600080fd5b506101fa610352366004611bee565b6111d2565b34801561036357600080fd5b506102f4610372366004611bee565b600090815260016020526040902060030154610100900460ff1690565b34801561039b57600080fd5b506101287f000000000000000000000000000000000000000000000000000000000000000081565b3480156103cf57600080fd5b506103fe6103de366004611bee565b60009081526001602081905260409091200154600160a01b900460ff1690565b6040516101329190611d2d565b6000818152600160205260409020600601547f0000000000000000000000000000000000000000000000000000000000000000906104499042611d51565b116104a95760405162461bcd60e51b815260206004820152602560248201527f54696d656f75742076616c7565206861736e74206265656e2072656163686564604482015264207965742160d81b60648201526084015b60405180910390fd5b6000818152600160205260409020600501546104ca9060029060ff16611d7a565b60ff16156104f8576000818152600160205260409020546104f59082906001600160a01b03166114e9565b50565b600081815260016020819052604090912001546104f59082906001600160a01b03166114e9565b600081815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff16600581111561057757610577611c07565b600581111561058857610588611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116105d657505050928452505050600582015460ff16602082015260069091015460409091015280519091506001600160a01b031633146106935760405162461bcd60e51b815260206004820152602a60248201527f596f75206d75737420626520706c61796572203120746f2064656c65746520746044820152691a19481c995c5d595cdd60b21b60648201526084016104a0565b6000816040015160058111156106ab576106ab611c07565b146107035760405162461bcd60e51b815260206004820152602260248201527f47616d65206d7573742062652050454e44494e4720746f2062652064656c6574604482015261195960f21b60648201526084016104a0565b6000828152600160208190526040808320909101805460ff60a01b1916600560a01b17905560608301519051339282156108fc02929190818181858888f19350505050158015610757573d6000803e3d6000fd5b5060405182907f5ef6221cc1c069a8c723210c08d526c7ca88540ee8d66470cf01844efaae0b9490600090a25050565b6000818152600160205260408120600501546107a89060029060ff16611d7a565b60ff16156107b75760016107ba565b60025b92915050565b6107c8611b27565b6000828152600160205260408082208151610120810192839052926004909101916009918390855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116107f0575094979650505050505050565b336001600160a01b038216036108905760405162461bcd60e51b815260206004820152602660248201527f596f752063616e2774206368616c6c656e676520796f75722073616d6520616460448201526564726573732160d01b60648201526084016104a0565b6001600160a01b0381166108f45760405162461bcd60e51b815260206004820152602560248201527f596f752063616e2774206368616c6c656e676520746865207a65726f20616464604482015264726573732160d81b60648201526084016104a0565b60008054908061090383611d9c565b909155505060408051610120810182523381526001600160a01b03831660208201529081016000815234602080830191909152600060408084018290526060808501839052815161012081018352838152808501849052808301849052908101839052608081810184905260a080830185905260c080840186905260e0840186905261010084018690529187019290925290850183905290930181905280548152600180835290839020845181546001600160a01b039182166001600160a01b03199182161783559386015192820180549390911693831684178155938501519093909290916001600160a81b03191617600160a01b836005811115610a0b57610a0b611c07565b021790555060608201516002820155608082015160038201805460a085015115156101000261ff00199315159390931661ffff199091161791909117905560c0820151610a5e9060048301906009611b46565b5060e082015160058201805460ff191660ff909216919091179055610100909101516006909101556000546040513481526001600160a01b0383169133917f6200407c0ea392b8107b21a9be480acd41fda186d04bed28cc7da2d4b53d56e29060200160405180910390a450565b600081815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff166005811115610b2457610b24611c07565b6005811115610b3557610b35611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff16815260206001928301818104948501949093039092029101808411610b835790505050509183525050600582015460ff166020808301919091526006909201546040909101528101519091506001600160a01b03163314610c335760405162461bcd60e51b815260206004820152601e60248201527f596f75206d75737420626520706c61796572203220746f20616363657074000060448201526064016104a0565b600081604001516005811115610c4b57610c4b611c07565b14610ca45760405162461bcd60e51b815260206004820152602360248201527f47616d65206d7573742062652050454e44494e4720746f2062652061636365706044820152621d195960ea1b60648201526084016104a0565b34816060015114610d0b5760405162461bcd60e51b815260206004820152602b60248201527f596f7520686176656e27742073656e742074686520726571756972656420455460448201526a12081d1bc81858d8d95c1d60aa1b60648201526084016104a0565b60008281526001602081905260409091204260068201558101805460ff60a01b1916600160a01b83021790555080602001516001600160a01b031681600001516001600160a01b0316837f2f9392ce1a0e65c06e3d53069c2c20e0fdaf138f3b3782ff1f3d1be6493cc0e060405160405180910390a45050565b600082815260016020818152604080842081516101208101835281546001600160a01b039081168252948201549485169381019390935286948694909392830190600160a01b900460ff166005811115610de157610de1611c07565b6005811115610df257610df2611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff16815260206001928301818104948501949093039092029101808411610e4057505050928452505050600582015460ff16602082015260069091015460409091015290506000610e9b84610787565b82519091506001600160a01b0316331480610ecb575081602001516001600160a01b0316336001600160a01b0316145b610f065760405162461bcd60e51b815260206004820152600c60248201526b2737ba103090383630bcb2b960a11b60448201526064016104a0565b81516001600160a01b031633148015610f2257508060ff166001145b80610f50575081602001516001600160a01b0316336001600160a01b0316148015610f5057508060ff166002145b610f8c5760405162461bcd60e51b815260206004820152600d60248201526c2737ba103cb7bab9103a3ab93760991b60448201526064016104a0565b60098360ff1610610fd45760405162461bcd60e51b8152602060048201526012602482015271141bdcda5d1a5bdb881b9bdd081d985b1a5960721b60448201526064016104a0565b600182604001516005811115610fec57610fec611c07565b146110475760405162461bcd60e51b815260206004820152602560248201527f47616d65206861736e27742073746172746564206f7220616c726561647920656044820152646e6465642160d81b60648201526084016104a0565b8160c001518360ff166009811061106057611060611db5565b602002015160ff16156110aa5760405162461bcd60e51b8152602060048201526012602482015271506f736974696f6e206e6f7420656d70747960701b60448201526064016104a0565b6000868152600160205260408120600501546110cb9060029060ff16611d7a565b60ff16156110da5760026110dd565b60015b6000888152600160205260409020909150819060040160ff88166009811061110757611107611db5565b6020808204909201805460ff948516601f9093166101000a928302928502191691909117905560008981526001909152604081206005018054909216919061114e83611dcb565b82546101009290920a60ff8181021990931691831602179091556000898152600160209081526040918290204260069091018190558251938b1684529083015233925089917f2c5810639465a84d4155c6bf188ce551139cfafd1f041caff3369c6a178789eb910160405180910390a36111c9878733611696565b50505050505050565b600081815260016020526040902060026001820154600160a01b900460ff16600581111561120257611202611c07565b148061122d575060036001820154600160a01b900460ff16600581111561122b5761122b611c07565b145b80611257575060046001820154600160a01b900460ff16600581111561125557611255611c07565b145b6112b35760405162461bcd60e51b815260206004820152602760248201527f496e76616c69642067616d6520737461746520666f72207072697a65207769746044820152661a191c985dd85b60ca1b60648201526084016104a0565b60026001820154600160a01b900460ff1660058111156112d5576112d5611c07565b1480156112eb575080546001600160a01b031633145b1561132557600381015460ff16156113155760405162461bcd60e51b81526004016104a090611dea565b60038101805460ff191660011790555b60036001820154600160a01b900460ff16600581111561134757611347611c07565b148015611360575060018101546001600160a01b031633145b156113a1576003810154610100900460ff161561138f5760405162461bcd60e51b81526004016104a090611dea565b60038101805461ff0019166101001790555b60046001820154600160a01b900460ff1660058111156113c3576113c3611c07565b036114625780546001600160a01b0316330361141257600381015460ff16156113fe5760405162461bcd60e51b81526004016104a090611dea565b60038101805460ff19166001179055611462565b60018101546001600160a01b03163303611462576003810154610100900460ff16156114505760405162461bcd60e51b81526004016104a090611dea565b60038101805461ff0019166101001790555b600061146d83611a3a565b9050600081116114b65760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a59081c1c9a5e9948185b5bdd5b9d60621b60448201526064016104a0565b604051339082156108fc029083906000818181858888f193505050501580156114e3573d6000803e3d6000fd5b50505050565b6000828152600160208190526040909120906001820154600160a01b900460ff16600581111561151b5761151b611c07565b146115685760405162461bcd60e51b815260206004820152601c60248201527f47616d65206973206e6f7420696e20504c4159494e472073746174650000000060448201526064016104a0565b6001600160a01b038216611598576001810180546004919060ff60a01b1916600160a01b835b021790555061163e565b80546001600160a01b03908116908316036115c9576001810180546002919060ff60a01b1916600160a01b8361158e565b60018101546001600160a01b03908116908316036115fd576001810180546003919060ff60a01b1916600160a01b8361158e565b60405162461bcd60e51b8152602060048201526016602482015275496e76616c69642077696e6e6572206164647265737360501b60448201526064016104a0565b816001600160a01b0316837f1f4228e2d0d405e34ac2a1c4b6f47f3ccdaf187bc2d09d151654d399be40d4ad8360010160149054906101000a900460ff166040516116899190611d2d565b60405180910390a3505050565b600083815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff1660058111156116ee576116ee611c07565b60058111156116ff576116ff611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff1681526020600192830181810494850194909303909202910180841161174d57505050928452505050600582015460ff908116602083015260069092015460409091015260e0820151919250166009036117b8576117b88460006114e9565b6000848152600160205260408120600501546117d99060029060ff16611d7a565b60ff16156117e85760016117eb565b60025b905060006117fa600386611e2f565b90506000611809600387611d7a565b90508260ff168460c001518360036118219190611e51565b60ff166009811061183457611834611db5565b602002015160ff16148015611881575060c084015160ff841690611859846003611e51565b611864906001611e74565b60ff166009811061187757611877611db5565b602002015160ff16145b80156118c5575060c084015160ff84169061189d846003611e51565b6118a8906002611e74565b60ff16600981106118bb576118bb611db5565b602002015160ff16145b156118d4576118d487866114e9565b8260ff168460c001518260ff16600981106118f1576118f1611db5565b602002015160ff16148015611933575060c084015160ff841690611916836003611e74565b60ff166009811061192957611929611db5565b602002015160ff16145b801561196c575060c084015160ff84169061194f836006611e74565b60ff166009811061196257611962611db5565b602002015160ff16145b1561197b5761197b87866114e9565b8060ff168260ff16148061199b57506119948183611e74565b60ff166002145b8015611a2b575060c08401515160ff84811691161480156119c9575060c08401516080015160ff8481169116145b80156119e3575060c0840151610100015160ff8481169116145b80611a2b575060c08401516040015160ff8481169116148015611a13575060c08401516080015160ff8481169116145b8015611a2b575060c084810151015160ff8481169116145b156111c9576111c987866114e9565b60008181526001602052604081206002808201548391611a5a9190611e8d565b905060026001830154600160a01b900460ff166005811115611a7e57611a7e611c07565b03611a8a579392505050565b60036001830154600160a01b900460ff166005811115611aac57611aac611c07565b03611ab8579392505050565b60046001830154600160a01b900460ff166005811115611ada57611ada611c07565b03611aea57506002015492915050565b60405162461bcd60e51b8152602060048201526012602482015271496e76616c69642067616d6520737461746560701b60448201526064016104a0565b6040518061012001604052806009906020820280368337509192915050565b600183019183908215611bc95791602002820160005b83821115611b9a57835183826101000a81548160ff021916908360ff1602179055509260200192600101602081600001049283019260010302611b5c565b8015611bc75782816101000a81549060ff0219169055600101602081600001049283019260010302611b9a565b505b50611bd5929150611bd9565b5090565b5b80821115611bd55760008155600101611bda565b600060208284031215611c0057600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b60068110611c3b57634e487b7160e01b600052602160045260246000fd5b9052565b6001600160a01b038981168252881660208201526101008101611c656040830189611c1d565b6060820196909652931515608085015291151560a084015260ff1660c083015260e0909101529392505050565b6101208101818360005b6009811015611cbe57815160ff16835260209283019290910190600101611c9c565b50505092915050565b600060208284031215611cd957600080fd5b81356001600160a01b0381168114611cf057600080fd5b9392505050565b60008060408385031215611d0a57600080fd5b82359150602083013560ff81168114611d2257600080fd5b809150509250929050565b602081016107ba8284611c1d565b634e487b7160e01b600052601160045260246000fd5b818103818111156107ba576107ba611d3b565b634e487b7160e01b600052601260045260246000fd5b600060ff831680611d8d57611d8d611d64565b8060ff84160691505092915050565b600060018201611dae57611dae611d3b565b5060010190565b634e487b7160e01b600052603260045260246000fd5b600060ff821660ff8103611de157611de1611d3b565b60010192915050565b60208082526025908201527f596f75206861766520616c72656164792077697468647261776e20746865207060408201526472697a652160d81b606082015260800190565b600060ff831680611e4257611e42611d64565b8060ff84160491505092915050565b60ff8181168382160290811690818114611e6d57611e6d611d3b565b5092915050565b60ff81811683821601908111156107ba576107ba611d3b565b80820281158282048414176107ba576107ba611d3b56fea264697066735822122090277ca6e1222960b050a8f2077088cb815f44e3e6b66df6213d12e07b9c42b664736f6c63430008110033",
  "deployedBytecode": "0x6080604052600436106100f35760003560e01c8063605bd5ff1161008a578063c20eec7b11610059578063c20eec7b14610337578063cb310db614610357578063e03c43c41461038f578063ffde0c74146103c357600080fd5b8063605bd5ff1461028e5780637fd6f7c4146102a1578063986ac879146102c1578063b8b357d91461030457600080fd5b8063248a55a1116100c6578063248a55a1146101fc578063266386311461021c57806345e09e541461024e578063474d0b5a1461027b57600080fd5b80630628b6ba146100f8578063117a5b901461013b5780631bb412d6146101c45780631d11e0df146101da575b600080fd5b34801561010457600080fd5b50610128610113366004611bee565b60009081526001602052604090206006015490565b6040519081526020015b60405180910390f35b34801561014757600080fd5b506101b0610156366004611bee565b60016020819052600091825260409091208054918101546002820154600383015460058401546006909401546001600160a01b039586169584169460ff600160a01b90950485169483811693610100900481169291169088565b604051610132989796959493929190611c3f565b3480156101d057600080fd5b5061012860005481565b3480156101e657600080fd5b506101fa6101f5366004611bee565b61040b565b005b34801561020857600080fd5b506101fa610217366004611bee565b61051f565b34801561022857600080fd5b5061023c610237366004611bee565b610787565b60405160ff9091168152602001610132565b34801561025a57600080fd5b5061026e610269366004611bee565b6107c0565b6040516101329190611c92565b6101fa610289366004611cc7565b610829565b6101fa61029c366004611bee565b610acc565b3480156102ad57600080fd5b506101fa6102bc366004611cf7565b610d85565b3480156102cd57600080fd5b506102f46102dc366004611bee565b60009081526001602052604090206003015460ff1690565b6040519015158152602001610132565b34801561031057600080fd5b5061023c61031f366004611bee565b60009081526001602052604090206005015460ff1690565b34801561034357600080fd5b506101fa610352366004611bee565b6111d2565b34801561036357600080fd5b506102f4610372366004611bee565b600090815260016020526040902060030154610100900460ff1690565b34801561039b57600080fd5b506101287f000000000000000000000000000000000000000000000000000000000000000081565b3480156103cf57600080fd5b506103fe6103de366004611bee565b60009081526001602081905260409091200154600160a01b900460ff1690565b6040516101329190611d2d565b6000818152600160205260409020600601547f0000000000000000000000000000000000000000000000000000000000000000906104499042611d51565b116104a95760405162461bcd60e51b815260206004820152602560248201527f54696d656f75742076616c7565206861736e74206265656e2072656163686564604482015264207965742160d81b60648201526084015b60405180910390fd5b6000818152600160205260409020600501546104ca9060029060ff16611d7a565b60ff16156104f8576000818152600160205260409020546104f59082906001600160a01b03166114e9565b50565b600081815260016020819052604090912001546104f59082906001600160a01b03166114e9565b600081815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff16600581111561057757610577611c07565b600581111561058857610588611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116105d657505050928452505050600582015460ff16602082015260069091015460409091015280519091506001600160a01b031633146106935760405162461bcd60e51b815260206004820152602a60248201527f596f75206d75737420626520706c61796572203120746f2064656c65746520746044820152691a19481c995c5d595cdd60b21b60648201526084016104a0565b6000816040015160058111156106ab576106ab611c07565b146107035760405162461bcd60e51b815260206004820152602260248201527f47616d65206d7573742062652050454e44494e4720746f2062652064656c6574604482015261195960f21b60648201526084016104a0565b6000828152600160208190526040808320909101805460ff60a01b1916600560a01b17905560608301519051339282156108fc02929190818181858888f19350505050158015610757573d6000803e3d6000fd5b5060405182907f5ef6221cc1c069a8c723210c08d526c7ca88540ee8d66470cf01844efaae0b9490600090a25050565b6000818152600160205260408120600501546107a89060029060ff16611d7a565b60ff16156107b75760016107ba565b60025b92915050565b6107c8611b27565b6000828152600160205260408082208151610120810192839052926004909101916009918390855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116107f0575094979650505050505050565b336001600160a01b038216036108905760405162461bcd60e51b815260206004820152602660248201527f596f752063616e2774206368616c6c656e676520796f75722073616d6520616460448201526564726573732160d01b60648201526084016104a0565b6001600160a01b0381166108f45760405162461bcd60e51b815260206004820152602560248201527f596f752063616e2774206368616c6c656e676520746865207a65726f20616464604482015264726573732160d81b60648201526084016104a0565b60008054908061090383611d9c565b909155505060408051610120810182523381526001600160a01b03831660208201529081016000815234602080830191909152600060408084018290526060808501839052815161012081018352838152808501849052808301849052908101839052608081810184905260a080830185905260c080840186905260e0840186905261010084018690529187019290925290850183905290930181905280548152600180835290839020845181546001600160a01b039182166001600160a01b03199182161783559386015192820180549390911693831684178155938501519093909290916001600160a81b03191617600160a01b836005811115610a0b57610a0b611c07565b021790555060608201516002820155608082015160038201805460a085015115156101000261ff00199315159390931661ffff199091161791909117905560c0820151610a5e9060048301906009611b46565b5060e082015160058201805460ff191660ff909216919091179055610100909101516006909101556000546040513481526001600160a01b0383169133917f6200407c0ea392b8107b21a9be480acd41fda186d04bed28cc7da2d4b53d56e29060200160405180910390a450565b600081815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff166005811115610b2457610b24611c07565b6005811115610b3557610b35611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff16815260206001928301818104948501949093039092029101808411610b835790505050509183525050600582015460ff166020808301919091526006909201546040909101528101519091506001600160a01b03163314610c335760405162461bcd60e51b815260206004820152601e60248201527f596f75206d75737420626520706c61796572203220746f20616363657074000060448201526064016104a0565b600081604001516005811115610c4b57610c4b611c07565b14610ca45760405162461bcd60e51b815260206004820152602360248201527f47616d65206d7573742062652050454e44494e4720746f2062652061636365706044820152621d195960ea1b60648201526084016104a0565b34816060015114610d0b5760405162461bcd60e51b815260206004820152602b60248201527f596f7520686176656e27742073656e742074686520726571756972656420455460448201526a12081d1bc81858d8d95c1d60aa1b60648201526084016104a0565b60008281526001602081905260409091204260068201558101805460ff60a01b1916600160a01b83021790555080602001516001600160a01b031681600001516001600160a01b0316837f2f9392ce1a0e65c06e3d53069c2c20e0fdaf138f3b3782ff1f3d1be6493cc0e060405160405180910390a45050565b600082815260016020818152604080842081516101208101835281546001600160a01b039081168252948201549485169381019390935286948694909392830190600160a01b900460ff166005811115610de157610de1611c07565b6005811115610df257610df2611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff16815260206001928301818104948501949093039092029101808411610e4057505050928452505050600582015460ff16602082015260069091015460409091015290506000610e9b84610787565b82519091506001600160a01b0316331480610ecb575081602001516001600160a01b0316336001600160a01b0316145b610f065760405162461bcd60e51b815260206004820152600c60248201526b2737ba103090383630bcb2b960a11b60448201526064016104a0565b81516001600160a01b031633148015610f2257508060ff166001145b80610f50575081602001516001600160a01b0316336001600160a01b0316148015610f5057508060ff166002145b610f8c5760405162461bcd60e51b815260206004820152600d60248201526c2737ba103cb7bab9103a3ab93760991b60448201526064016104a0565b60098360ff1610610fd45760405162461bcd60e51b8152602060048201526012602482015271141bdcda5d1a5bdb881b9bdd081d985b1a5960721b60448201526064016104a0565b600182604001516005811115610fec57610fec611c07565b146110475760405162461bcd60e51b815260206004820152602560248201527f47616d65206861736e27742073746172746564206f7220616c726561647920656044820152646e6465642160d81b60648201526084016104a0565b8160c001518360ff166009811061106057611060611db5565b602002015160ff16156110aa5760405162461bcd60e51b8152602060048201526012602482015271506f736974696f6e206e6f7420656d70747960701b60448201526064016104a0565b6000868152600160205260408120600501546110cb9060029060ff16611d7a565b60ff16156110da5760026110dd565b60015b6000888152600160205260409020909150819060040160ff88166009811061110757611107611db5565b6020808204909201805460ff948516601f9093166101000a928302928502191691909117905560008981526001909152604081206005018054909216919061114e83611dcb565b82546101009290920a60ff8181021990931691831602179091556000898152600160209081526040918290204260069091018190558251938b1684529083015233925089917f2c5810639465a84d4155c6bf188ce551139cfafd1f041caff3369c6a178789eb910160405180910390a36111c9878733611696565b50505050505050565b600081815260016020526040902060026001820154600160a01b900460ff16600581111561120257611202611c07565b148061122d575060036001820154600160a01b900460ff16600581111561122b5761122b611c07565b145b80611257575060046001820154600160a01b900460ff16600581111561125557611255611c07565b145b6112b35760405162461bcd60e51b815260206004820152602760248201527f496e76616c69642067616d6520737461746520666f72207072697a65207769746044820152661a191c985dd85b60ca1b60648201526084016104a0565b60026001820154600160a01b900460ff1660058111156112d5576112d5611c07565b1480156112eb575080546001600160a01b031633145b1561132557600381015460ff16156113155760405162461bcd60e51b81526004016104a090611dea565b60038101805460ff191660011790555b60036001820154600160a01b900460ff16600581111561134757611347611c07565b148015611360575060018101546001600160a01b031633145b156113a1576003810154610100900460ff161561138f5760405162461bcd60e51b81526004016104a090611dea565b60038101805461ff0019166101001790555b60046001820154600160a01b900460ff1660058111156113c3576113c3611c07565b036114625780546001600160a01b0316330361141257600381015460ff16156113fe5760405162461bcd60e51b81526004016104a090611dea565b60038101805460ff19166001179055611462565b60018101546001600160a01b03163303611462576003810154610100900460ff16156114505760405162461bcd60e51b81526004016104a090611dea565b60038101805461ff0019166101001790555b600061146d83611a3a565b9050600081116114b65760405162461bcd60e51b8152602060048201526014602482015273125b9d985b1a59081c1c9a5e9948185b5bdd5b9d60621b60448201526064016104a0565b604051339082156108fc029083906000818181858888f193505050501580156114e3573d6000803e3d6000fd5b50505050565b6000828152600160208190526040909120906001820154600160a01b900460ff16600581111561151b5761151b611c07565b146115685760405162461bcd60e51b815260206004820152601c60248201527f47616d65206973206e6f7420696e20504c4159494e472073746174650000000060448201526064016104a0565b6001600160a01b038216611598576001810180546004919060ff60a01b1916600160a01b835b021790555061163e565b80546001600160a01b03908116908316036115c9576001810180546002919060ff60a01b1916600160a01b8361158e565b60018101546001600160a01b03908116908316036115fd576001810180546003919060ff60a01b1916600160a01b8361158e565b60405162461bcd60e51b8152602060048201526016602482015275496e76616c69642077696e6e6572206164647265737360501b60448201526064016104a0565b816001600160a01b0316837f1f4228e2d0d405e34ac2a1c4b6f47f3ccdaf187bc2d09d151654d399be40d4ad8360010160149054906101000a900460ff166040516116899190611d2d565b60405180910390a3505050565b600083815260016020818152604080842081516101208101835281546001600160a01b0390811682529482015494851693810193909352919290830190600160a01b900460ff1660058111156116ee576116ee611c07565b60058111156116ff576116ff611c07565b815260028201546020820152600382015460ff808216151560408085019190915261010090920416151560608301528051610120810191829052608090920191906004840190600990826000855b825461010083900a900460ff1681526020600192830181810494850194909303909202910180841161174d57505050928452505050600582015460ff908116602083015260069092015460409091015260e0820151919250166009036117b8576117b88460006114e9565b6000848152600160205260408120600501546117d99060029060ff16611d7a565b60ff16156117e85760016117eb565b60025b905060006117fa600386611e2f565b90506000611809600387611d7a565b90508260ff168460c001518360036118219190611e51565b60ff166009811061183457611834611db5565b602002015160ff16148015611881575060c084015160ff841690611859846003611e51565b611864906001611e74565b60ff166009811061187757611877611db5565b602002015160ff16145b80156118c5575060c084015160ff84169061189d846003611e51565b6118a8906002611e74565b60ff16600981106118bb576118bb611db5565b602002015160ff16145b156118d4576118d487866114e9565b8260ff168460c001518260ff16600981106118f1576118f1611db5565b602002015160ff16148015611933575060c084015160ff841690611916836003611e74565b60ff166009811061192957611929611db5565b602002015160ff16145b801561196c575060c084015160ff84169061194f836006611e74565b60ff166009811061196257611962611db5565b602002015160ff16145b1561197b5761197b87866114e9565b8060ff168260ff16148061199b57506119948183611e74565b60ff166002145b8015611a2b575060c08401515160ff84811691161480156119c9575060c08401516080015160ff8481169116145b80156119e3575060c0840151610100015160ff8481169116145b80611a2b575060c08401516040015160ff8481169116148015611a13575060c08401516080015160ff8481169116145b8015611a2b575060c084810151015160ff8481169116145b156111c9576111c987866114e9565b60008181526001602052604081206002808201548391611a5a9190611e8d565b905060026001830154600160a01b900460ff166005811115611a7e57611a7e611c07565b03611a8a579392505050565b60036001830154600160a01b900460ff166005811115611aac57611aac611c07565b03611ab8579392505050565b60046001830154600160a01b900460ff166005811115611ada57611ada611c07565b03611aea57506002015492915050565b60405162461bcd60e51b8152602060048201526012602482015271496e76616c69642067616d6520737461746560701b60448201526064016104a0565b6040518061012001604052806009906020820280368337509192915050565b600183019183908215611bc95791602002820160005b83821115611b9a57835183826101000a81548160ff021916908360ff1602179055509260200192600101602081600001049283019260010302611b5c565b8015611bc75782816101000a81549060ff0219169055600101602081600001049283019260010302611b9a565b505b50611bd5929150611bd9565b5090565b5b80821115611bd55760008155600101611bda565b600060208284031215611c0057600080fd5b5035919050565b634e487b7160e01b600052602160045260246000fd5b60068110611c3b57634e487b7160e01b600052602160045260246000fd5b9052565b6001600160a01b038981168252881660208201526101008101611c656040830189611c1d565b6060820196909652931515608085015291151560a084015260ff1660c083015260e0909101529392505050565b6101208101818360005b6009811015611cbe57815160ff16835260209283019290910190600101611c9c565b50505092915050565b600060208284031215611cd957600080fd5b81356001600160a01b0381168114611cf057600080fd5b9392505050565b60008060408385031215611d0a57600080fd5b82359150602083013560ff81168114611d2257600080fd5b809150509250929050565b602081016107ba8284611c1d565b634e487b7160e01b600052601160045260246000fd5b818103818111156107ba576107ba611d3b565b634e487b7160e01b600052601260045260246000fd5b600060ff831680611d8d57611d8d611d64565b8060ff84160691505092915050565b600060018201611dae57611dae611d3b565b5060010190565b634e487b7160e01b600052603260045260246000fd5b600060ff821660ff8103611de157611de1611d3b565b60010192915050565b60208082526025908201527f596f75206861766520616c72656164792077697468647261776e20746865207060408201526472697a652160d81b606082015260800190565b600060ff831680611e4257611e42611d64565b8060ff84160491505092915050565b60ff8181168382160290811690818114611e6d57611e6d611d3b565b5092915050565b60ff81811683821601908111156107ba576107ba611d3b565b80820281158282048414176107ba576107ba611d3b56fea264697066735822122090277ca6e1222960b050a8f2077088cb815f44e3e6b66df6213d12e07b9c42b664736f6c63430008110033",
  "devdoc": {
    "author": "Lulox",
    "details": "Currently for using with one transaction per move,      in a future may be replaced with signatures  or other gas efficient mechanism",
    "kind": "dev",
    "methods": {},
    "title": "TicTacToe",
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "notice": "A betting TicTacToe contract.",
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 5,
        "contract": "contracts/TicTacToe.sol:TicTacToe",
        "label": "gameIdCounter",
        "offset": 0,
        "slot": "0",
        "type": "t_uint256"
      },
      {
        "astId": 42,
        "contract": "contracts/TicTacToe.sol:TicTacToe",
        "label": "games",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_uint256,t_struct(Game)37_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_array(t_uint8)9_storage": {
        "base": "t_uint8",
        "encoding": "inplace",
        "label": "uint8[9]",
        "numberOfBytes": "32"
      },
      "t_bool": {
        "encoding": "inplace",
        "label": "bool",
        "numberOfBytes": "1"
      },
      "t_enum(GameState)15": {
        "encoding": "inplace",
        "label": "enum TicTacToe.GameState",
        "numberOfBytes": "1"
      },
      "t_mapping(t_uint256,t_struct(Game)37_storage)": {
        "encoding": "mapping",
        "key": "t_uint256",
        "label": "mapping(uint256 => struct TicTacToe.Game)",
        "numberOfBytes": "32",
        "value": "t_struct(Game)37_storage"
      },
      "t_struct(Game)37_storage": {
        "encoding": "inplace",
        "label": "struct TicTacToe.Game",
        "members": [
          {
            "astId": 17,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "player1",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 19,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "player2",
            "offset": 0,
            "slot": "1",
            "type": "t_address"
          },
          {
            "astId": 22,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "state",
            "offset": 20,
            "slot": "1",
            "type": "t_enum(GameState)15"
          },
          {
            "astId": 24,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "bet",
            "offset": 0,
            "slot": "2",
            "type": "t_uint256"
          },
          {
            "astId": 26,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "player1Withdrawn",
            "offset": 0,
            "slot": "3",
            "type": "t_bool"
          },
          {
            "astId": 28,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "player2Withdrawn",
            "offset": 1,
            "slot": "3",
            "type": "t_bool"
          },
          {
            "astId": 32,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "board",
            "offset": 0,
            "slot": "4",
            "type": "t_array(t_uint8)9_storage"
          },
          {
            "astId": 34,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "moves",
            "offset": 0,
            "slot": "5",
            "type": "t_uint8"
          },
          {
            "astId": 36,
            "contract": "contracts/TicTacToe.sol:TicTacToe",
            "label": "lastTimePlayed",
            "offset": 0,
            "slot": "6",
            "type": "t_uint256"
          }
        ],
        "numberOfBytes": "224"
      },
      "t_uint256": {
        "encoding": "inplace",
        "label": "uint256",
        "numberOfBytes": "32"
      },
      "t_uint8": {
        "encoding": "inplace",
        "label": "uint8",
        "numberOfBytes": "1"
      }
    }
  }
}